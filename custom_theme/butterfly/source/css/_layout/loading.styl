if hexo-config('preloader.enable') && hexo-config('preloader.source') == 1
  #loading-box
    position: fixed
    z-index: 1000
    width: 100vw
    height: 100vh
    overflow: hidden
    text-align: center

    &.loaded
      z-index: -1000

      .gear-loader
        display: none

    .gear-loader
      height: 100%
      position: relative
      margin: auto
      width: 400px

    .gear-loader_overlay
      width: 150px
      height: 150px
      background: transparent
      box-shadow: 0px 0px 0px 1000px rgba(255, 255, 255, .67), 0px 0px 19px 0px rgba(0, 0, 0, .16) inset
      border-radius: 100%
      z-index: -1
      position: absolute
      left: 0
      right: 0
      top: 0
      bottom: 0
      margin: auto

    .gear-loader_cogs
      z-index: -2
      width: 100px
      height: 100px
      top: -120px !important
      position: absolute
      left: 0
      right: 0
      top: 0
      bottom: 0
      margin: auto

    .gear-loader_cogs__top
      position: relative
      width: 100px
      height: 100px
      transform-origin: 50px 50px
      animation: rotate 10s infinite linear

      div
        &:nth-of-type(1)
          transform: rotate(30deg)

        &:nth-of-type(2)
          transform: rotate(60deg)

        &:nth-of-type(3)
          transform: rotate(90deg)

        &.gear-top_part
          width: 100px
          border-radius: 10px
          position: absolute
          height: 100px
          background: #f98db9

        &.gear-top_hole
          width: 50px
          height: 50px
          border-radius: 100%
          background: white
          position: absolute
          left: 0
          right: 0
          top: 0
          bottom: 0
          margin: auto

    .gear-loader_cogs__left
      position: relative
      width: 80px
      height: 80px
      top: 28px
      left: -24px
      transform-origin: 40px 40px
      transform: rotate(16deg)
      animation: rotate_left 10s .1s infinite reverse linear

      div
        &:nth-of-type(1)
          transform: rotate(30deg)

        &:nth-of-type(2)
          transform: rotate(60deg)

        &:nth-of-type(3)
          transform: rotate(90deg)

        &.gear-left_part
          width: 80px
          border-radius: 6px
          position: absolute
          height: 80px
          background: #97ddff

        &.gear-left_hole
          width: 40px
          height: 40px
          border-radius: 100%
          background: white
          position: absolute
          left: 0
          right: 0
          top: 0
          bottom: 0
          margin: auto

    .gear-loader_cogs__bottom
      position: relative
      width: 60px
      height: 60px
      top: -65px
      left: 79px
      transform-origin: 30px 30px
      transform: rotate(4deg)
      animation: rotate_left 10.2s .4s infinite linear

      div
        &:nth-of-type(1)
          transform: rotate(30deg)

        &:nth-of-type(2)
          transform: rotate(60deg)

        &:nth-of-type(3)
          transform: rotate(90deg)

        &.gear-bottom_part
          width: 60px
          border-radius: 5px
          position: absolute
          height: 60px
          background: #ffcd66

        &.gear-bottom_hole
          width: 30px
          height: 30px
          border-radius: 100%
          background: white
          position: absolute
          left: 0
          right: 0
          top: 0
          bottom: 0
          margin: auto

  /* Animations */
  @keyframes rotate
    from
      transform: rotate(0deg)

    to
      transform: rotate(360deg)

  @keyframes rotate_left
    from
      transform: rotate(16deg)

    to
      transform: rotate(376deg)

  @keyframes rotate_right
    from
      transform: rotate(4deg)

    to
      transform: rotate(364deg)
