class Star{constructor({origin:t,speed:i,color:s,angle:e,context:o,size:h=4}){this.origin=t,this.position={...this.origin},this.color=s,this.speed=i,this.angle=e,this.context=o,this.renderCount=0,this.size=h,this.rotation=Math.random()*Math.PI*2,this.rotationSpeed=.1*(Math.random()-.5),this.alpha=1,this.fadeSpeed=.01+.03*Math.random()}draw(){this.context.save(),this.context.translate(this.position.x,this.position.y),this.context.rotate(this.rotation),this.context.globalAlpha=this.alpha;const t=this.context.createRadialGradient(0,0,0,0,0,this.size);t.addColorStop(0,this.color),t.addColorStop(1,this.fadeColor(this.color,.5)),this.context.fillStyle=t;const i=this.size,s=Math.PI/5;this.context.beginPath(),this.context.moveTo(0,-i);for(let t=0;t<5;t++){const e=Math.cos(t*s*2)*i,o=Math.sin(t*s*2)*i,h=Math.cos(t*s*2+s)*(i/2),n=Math.sin(t*s*2+s)*(i/2);this.context.lineTo(e,o),this.context.lineTo(h,n)}this.context.closePath(),this.context.fill(),this.context.shadowColor=this.color,this.context.shadowBlur=5,this.context.fill(),this.context.restore()}fadeColor(t,i){const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return`rgba(${parseInt(s[1],16)}, ${parseInt(s[2],16)}, ${parseInt(s[3],16)}, ${i})`}move(){this.position.x+=Math.sin(this.angle)*this.speed,this.position.y+=Math.cos(this.angle)*this.speed+.1*this.renderCount,this.rotation+=this.rotationSpeed,this.alpha-=this.fadeSpeed,this.size=Math.max(.5,this.size-.02),this.renderCount++}isVisible(){return this.alpha>0&&this.size>.5}}class Boom{constructor({origin:t,context:i,circleCount:s=12,area:e}){this.origin=t,this.context=i,this.circleCount=s,this.area=e,this.stop=!1,this.circles=[],this.colors=["#FF7777","#FFDD77","#77DDFF","#77FFBB","#FF77DD","#7777FF","#DDFF77","#FFAA77"],this.timestamp=Date.now()}init(){for(let t=0;t<this.circleCount;t++){const i=2*Math.PI/this.circleCount*t+(.5*Math.random()-.25),s=new Star({context:this.context,origin:this.origin,color:this.colors[Math.floor(Math.random()*this.colors.length)],angle:i,speed:1+3*Math.random(),size:3+4*Math.random()});this.circles.push(s)}}move(){this.circles=this.circles.filter((t=>!(!t.isVisible()||t.position.x<-50||t.position.x>this.area.width+50||t.position.y<-50||t.position.y>this.area.height+50||(t.move(),0)))),(0===this.circles.length||Date.now()-this.timestamp>5e3)&&(this.stop=!0)}draw(){this.circles.forEach((t=>t.draw()))}}class CursorSpecialEffects{constructor(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.globalWidth=window.innerWidth,this.globalHeight=window.innerHeight,this.booms=[],this.running=!1,this.lastTime=0,this.throttleDelay=100}handleMouseDown(t){const i=Date.now();if(i-this.lastTime<this.throttleDelay)return;this.lastTime=i;const s=new Boom({origin:{x:t.clientX,y:t.clientY},context:this.context,area:{width:this.globalWidth,height:this.globalHeight}});s.init(),this.booms.push(s),this.running||this.run()}handlePageHide(){this.booms=[],this.running=!1}init(){const t=this.canvas.style;t.position="fixed",t.top=t.left=0,t.zIndex="999999",t.pointerEvents="none",t.width=`${this.globalWidth}px`,t.height=`${this.globalHeight}px`,this.canvas.width=this.globalWidth,this.canvas.height=this.globalHeight,document.body.appendChild(this.canvas),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("pagehide",this.handlePageHide.bind(this)),window.addEventListener("touchstart",(t=>{t.touches.length>0&&this.handleMouseDown({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}),{passive:1})}run(){this.running=!0,0!==this.booms.length?(requestAnimationFrame(this.run.bind(this)),this.context.clearRect(0,0,this.globalWidth,this.globalHeight),this.context.globalCompositeOperation="lighter",this.booms=this.booms.filter((t=>!t.stop&&(t.move(),t.draw(),!0)))):this.running=!1}}const cursorSpecialEffects=new CursorSpecialEffects;cursorSpecialEffects.init();